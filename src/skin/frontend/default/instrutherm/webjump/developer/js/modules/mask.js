jQuery(document).ready(function(){!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){var t,n=navigator.userAgent,a=/iphone/i.test(n),i=/chrome/i.test(n),r=/android/i.test(n);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var n;return 0===this.length||this.is(":hidden")?void 0:"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&(n=this.createTextRange(),n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),e=0-n.duplicate().moveStart("character",-1e5),t=e+n.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(n,o){var u,c,s,l,f,m,h,g;if(!n&&this.length>0){u=e(this[0]);var d=u.data(e.mask.dataName);return d?d():void 0}return o=e.extend({autoclear:e.mask.autoclear,placeholder:e.mask.placeholder,completed:null},o),c=e.mask.definitions,s=[],l=h=n.length,f=null,e.each(n.split(""),function(e,t){"?"==t?(h--,l=e):c[t]?(s.push(new RegExp(c[t])),null===f&&(f=s.length-1),l>e&&(m=s.length-1)):s.push(null)}),this.trigger("unmask").each(function(){function u(){if(o.completed){for(var e=f;m>=e;e++)if(s[e]&&T[e]===d(e))return;o.completed.call(S)}}function d(e){return o.placeholder.charAt(e<o.placeholder.length?e:0)}function p(e){for(;++e<h&&!s[e];);return e}function v(e){for(;--e>=0&&!s[e];);return e}function k(e,t){var n,a;if(!(0>e)){for(n=e,a=p(t);h>n;n++)if(s[n]){if(!(h>a&&s[n].test(T[a])))break;T[n]=T[a],T[a]=d(a),a=p(a)}C(),S.caret(Math.max(f,e))}}function y(e){var t,n,a,i;for(t=e,n=d(e);h>t;t++)if(s[t]){if(a=p(t),i=T[t],T[t]=n,!(h>a&&s[a].test(i)))break;n=i}}function b(){var e=S.val(),t=S.caret();if(g&&g.length&&g.length>e.length){for(D(!0);t.begin>0&&!s[t.begin-1];)t.begin--;if(0===t.begin)for(;t.begin<f&&!s[t.begin];)t.begin++;S.caret(t.begin,t.begin)}else{for(D(!0);t.begin<h&&!s[t.begin];)t.begin++;S.caret(t.begin,t.begin)}u()}function j(){D(),S.val()!=w&&S.change()}function Q(e){if(!S.prop("readonly")){var t,n,i,r=e.which||e.keyCode;g=S.val(),8===r||46===r||a&&127===r?(t=S.caret(),n=t.begin,i=t.end,i-n===0&&(n=46!==r?v(n):i=p(n-1),i=46===r?p(i):i),R(n,i),k(n,i-1),e.preventDefault()):13===r?j.call(this,e):27===r&&(S.val(w),S.caret(0,D()),e.preventDefault())}}function x(t){if(!S.prop("readonly")){var n,a,i,o=t.which||t.keyCode,c=S.caret();if(!(t.ctrlKey||t.altKey||t.metaKey||32>o)&&o&&13!==o){if(c.end-c.begin!==0&&(R(c.begin,c.end),k(c.begin,c.end-1)),n=p(c.begin-1),h>n&&(a=String.fromCharCode(o),s[n].test(a))){if(y(n),T[n]=a,C(),i=p(n),r){var l=function(){e.proxy(e.fn.caret,S,i)()};setTimeout(l,0)}else S.caret(i);c.begin<=m&&u()}t.preventDefault()}}}function R(e,t){var n;for(n=e;t>n&&h>n;n++)s[n]&&(T[n]=d(n))}function C(){S.val(T.join(""))}function D(e){var t,n,a,i=S.val(),r=-1;for(t=0,a=0;h>t;t++)if(s[t]){for(T[t]=d(t);a++<i.length;)if(n=i.charAt(a-1),s[t].test(n)){T[t]=n,r=t;break}if(a>i.length){R(t+1,h);break}}else T[t]===i.charAt(a)&&a++,l>t&&(r=t);return e?C():l>r+1?o.autoclear||T.join("")===A?(S.val()&&S.val(""),R(0,h)):C():(C(),S.val(S.val().substring(0,r+1))),l?t:f}var S=e(this),T=e.map(n.split(""),function(e,t){return"?"!=e?c[e]?d(t):e:void 0}),A=T.join(""),w=S.val();S.data(e.mask.dataName,function(){return e.map(T,function(e,t){return s[t]&&e!=d(t)?e:null}).join("")}),S.one("unmask",function(){S.off(".mask").removeData(e.mask.dataName)}).on("focus.mask",function(){if(!S.prop("readonly")){clearTimeout(t);var e;w=S.val(),e=D(),t=setTimeout(function(){S.get(0)===document.activeElement&&(C(),e==n.replace("?","").length?S.caret(0,e):S.caret(e))},10)}}).on("blur.mask",j).on("keydown.mask",Q).on("keypress.mask",x).on("input.mask paste.mask",function(){S.prop("readonly")||setTimeout(function(){var e=D(!0);S.caret(e),u()},0)}),i&&r&&S.off("input.mask").on("input.mask",b),D()})}})}),jQuery(document).ready(function(){function e(e,t,n){t=jQuery("["+e+"~="+t+"]"),t.each(function(){jQuery(this).attr("data-mask",n)})}e("title","Celular","(99)99999-999?9"),e("title","Telefone","(99)99999-999?9"),e("title","Cep","99999-999"),e("title","CEP","99999-999"),e("id","postcode","99999-999"),jQuery("input").each(function(){var e=jQuery(this),t=e.data("mask");t&&e.mask(t)}),jQuery('input[data-mask="(99) 99999-999?9"]').focusout(function(){var e=jQuery(this),t=(e.data("mask"),e.val().replace(/\D/g,""));e.unmask(),e.mask(t.length>10?"(99) 99999-999?9":"(99) 9999-9999?9")}).trigger("focusout"),jQuery('input[data-mask="(99)99999-999?9"]').focusout(function(){var e=jQuery(this),t=(e.data("mask"),e.val().replace(/\D/g,""));e.unmask(),e.mask(t.length>10?"(99)99999-999?9":"(99)9999-9999?9")}).trigger("focusout"),jQuery('input[data-mask="999.999.999-99"]').focusout(function(){var e=jQuery(this),t=(e.data("mask"),e.val().replace(/\D/g,""));e.unmask(),e.mask(t.length>15?"999.999.999-99":"99.999.999/9999-99")}).trigger("focusout")});});
